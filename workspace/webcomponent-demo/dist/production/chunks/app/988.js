"use strict";(self.webpackChunkneo_webcomponents_demo=self.webpackChunkneo_webcomponents_demo||[]).push([[988],{364:(e,t,o)=>{o.d(t,{Z:()=>n});var r=o(619);o(696);class n extends r.Z{static getConfig(){return{className:"Neo.container.Panel",ntype:"panel",cls:["neo-panel","neo-container"],containerConfig:null,headerDefaults:null,headers:null,_layout:{ntype:"vbox",align:"stretch"},verticalHeadersFirst:!1}}constructor(e){super(e);let t=this;t.hasHeaders()&&!0===t.verticalHeadersFirst&&(t.layout={ntype:"hbox",align:"stretch"})}static createHeaderConfig(e){let t={ntype:"toolbar",cls:["neo-panel-header-toolbar","neo-toolbar"],flex:"0 1 auto"};return e.text&&(t.items=[{ntype:"label",cls:["neo-panel-header-text","neo-label"],text:e.text}],delete e.text),Array.isArray(e.items)&&e.items.forEach((e=>{"label"===e.ntype&&(e.cls=["neo-panel-header-text","neo-label"])})),{...t,...e}}createItems(){let e=this,t=e.containerConfig;if(e.hasHeaders()){let o,r=!1===e.verticalHeadersFirst,l=e.headers||[],i=l.filter((e=>e.dock===(r?"bottom":"right"))),s=l.filter((e=>e.dock===(r?"left":"top"))),a=l.filter((e=>e.dock===(r?"right":"bottom"))),d=l.filter((e=>e.dock===(r?"top":"left"))),c=i.length>0||d.length>0,h=s.length>0||a.length>0,u=e.items,g=[],p=[];d.forEach((e=>{p.push(n.createHeaderConfig(e))})),h&&(r&&c||!r&&c)?(s.forEach((e=>{g.push(n.createHeaderConfig(e))})),o={ntype:"container",flex:1,items:u,itemDefaults:e.itemDefaults,...t},g.push({...e.headerDefaults,...o}),a.forEach((e=>{g.push(n.createHeaderConfig(e))})),p.push({ntype:"container",items:g,layout:{ntype:r?"hbox":"vbox",align:"stretch"}})):(o={ntype:"container",flex:1,items:u,itemDefaults:e.itemDefaults,...t},p.push({...e.headerDefaults,...o})),i.forEach((e=>{p.push(n.createHeaderConfig(e))})),e.items=p,e.itemDefaults=null,super.createItems()}else t&&e.set(t),super.createItems()}hasHeaders(){return Array.isArray(this.headers)&&this.headers.length>0}}Neo.applyClassConfig(n)},779:(e,t,o)=>{o.d(t,{Z:()=>i});var r=o(877),n=(o(634),o(989)),l=o(805);class i extends r.Z{static getConfig(){return{className:"Neo.controller.Component",ntype:"component-controller",component:null,parent_:null,references:null}}constructor(e){super(e);let t,o=this,r=o.component;o.references={},r.isConstructed?o.onComponentConstructed():t=r.on("constructed",(()=>{r.un("constructed",t),o.onComponentConstructed()}))}beforeSetParent(e,t){return e||this.getParent()}getHandlerScope(e){let t=this,o=t.parent;return Neo.isFunction(t[e])?t:o?o.getHandlerScope(e):null}getModel(e=!1){let t=this.component;return e?t.model:t.getModel()}getParent(){let e,t,o=this;return o.parent?o.parent:(t=o.component.parentId,e=t&&Neo.getComponent(t),e?.getController()||null)}getReference(e){let t=this,o=t.references[e];return o||(o=t.component.down({reference:e}),o&&(t.references[e]=o)),o||null}onComponentConstructed(){}parseConfig(e=this.component){let t,o,r,i=this,s=e.domListeners,a=e.listeners,d=e.reference;s&&s.forEach((s=>{Object.entries(s).forEach((([a,d])=>{t=null,"scope"!==a&&"delegate"!==a&&(Neo.isString(d)?t=d:Neo.isObject(d)&&d.hasOwnProperty("fn")&&Neo.isString(d.fn)&&(t=d.fn),t&&(r=i.getHandlerScope(t),r?(o=r[t].bind(r),s[a]=o,n.Z.updateListenerPlaceholder({componentId:e.id,eventHandlerMethod:o,eventHandlerName:t,eventName:a,scope:void 0})):l.Z.logError("Unknown domEvent handler for",t,e)))}))})),a&&Object.entries(a).forEach((([o,n])=>{"scope"!==o&&"delegate"!==o&&n.forEach((o=>{Neo.isObject(o)&&o.hasOwnProperty("fn")&&Neo.isString(o.fn)&&(t=o.fn,r=i.getHandlerScope(t),r?o.fn=r[t].bind(r):l.Z.logError("Unknown event handler for",t,e))}))})),d&&(i.references[d]=e)}removeReference(e){let t,o=this.references;for(t in o)if(e===o[t]){delete o[t];break}}}Neo.applyClassConfig(i)},18:(e,t,o)=>{o.d(t,{Z:()=>n});var r=o(74);class n extends r.Z{static getConfig(){return{className:"Neo.data.Model",ntype:"model",fields:null,keyProperty_:"id",storeId:null,trackModifiedFields:!1}}getField(e){let t=this,o=0,r=t.fields?.length||0;for(;o<r;o++)if(t.fields[o].name===e)return t.fields[o];return null}}Neo.applyClassConfig(n)},909:(e,t,o)=>{o.d(t,{Z:()=>h});var r=o(371),n=o(66),l=o(18),i=(o(622),o(74)),s=o(805);let a;class d extends i.Z{static getConfig(){return{className:"Neo.data.RecordFactory",singleton:!0,ovPrefix:"ov_",recordNamespace:"Neo.data.record."}}createRecord(e,t){let o=Neo.ns(this.recordNamespace+e.className);return o||(o=this.createRecordClass(e)),new o(t)}createRecordClass(e){if(e instanceof l.Z){let t,o,r=this.recordNamespace+e.className,n=Neo.ns(r);return n||(o=r.split("."),t=o.pop(),n=Neo.ns(o,!0),n[t]=class{constructor(t){let o,r=this;Object.defineProperties(r,{_isModified:{value:!1,writable:!0}}),Array.isArray(e.fields)&&e.fields.forEach((n=>{let l=a.parseRecordValue(n,t[n.name]),i=Symbol.for(n.name);o={[Symbol.for("isRecord")]:{value:!0},[i]:{value:l,writable:!0},[n.name]:{configurable:!0,enumerable:!0,get(){return this[i]},set(t){let o=this,r=o[i];Neo.isEqual(t,r)||(t=a.parseRecordValue(n,t),o[i]=t,o._isModified=!0,o._isModified=a.isModified(o,e.trackModifiedFields),a.onRecordChange({fields:[{name:n.name,oldValue:r,value:t}],model:e,record:o}))}}},e.trackModifiedFields&&(o[a.ovPrefix+n.name]={value:l}),Object.defineProperties(r,o)}))}set(t){a.setRecordFields(e,this,t)}setSilent(t){a.setRecordFields(e,this,t,!0)}},n[t].isClass=!0,n[t])}}isModified(e,t){if(t){let t,o=Object.keys(e),r=0,n=o.length;for(;r<n;r++)if(t=o[r],!Neo.isEqual(e[t],e[this.ovPrefix+t]))return!0;return!1}return e._isModified}isModifiedField(e,t){e.hasOwnProperty(t)||s.Z.logError("The record does not contain the field",t,e);let o=this.ovPrefix+t;return e.hasOwnProperty(o)?!Neo.isEqual(e[t],e[o]):null}isRecord(e){return e?.[Symbol.for("isRecord")]||!1}onRecordChange(e){Neo.get(e.model.storeId)?.onRecordChange(e)}parseRecordValue(e,t){const o=e?.type.toLowerCase();return"date"===o?new Date(t):t}setRecordFields(e,t,o,r=!1){let n,l=[];Object.entries(o).forEach((([e,o])=>{n=t[e],Neo.isEqual(n,o)||(t[Symbol.for(e)]=o,l.push({name:e,oldValue:n,value:o}))})),!r&&Object.keys(l).length>0&&Neo.get(e.storeId)?.onRecordChange({fields:l,model:e,record:t})}}Neo.applyClassConfig(d),a=Neo.create(d),Neo.applyToGlobalNs(a);const c=a;class h extends r.Z{static getStaticConfig(){return{observable:!0}}static getConfig(){return{className:"Neo.data.Store",ntype:"store",autoLoad:!1,data_:null,initialData_:null,isGrouped:!1,isLoaded:!1,isLoading:!1,model_:null,remoteFilter:!1,remoteSort:!1,url:null}}constructor(e){super(e);let t=this;t.on({mutate:t.onCollectionMutate,sort:t.onCollectionSort,scope:t})}add(e){return super.add(this.beforeSetData(e))}afterSetData(e,t){let o=this;o.configsApplied&&e&&(t?o.clear():o.initialData=[...e],o.add(e))}afterSetInitialData(e,t){}afterSetModel(e,t){e&&(e.storeId=this.id,c.createRecordClass(e))}beforeSetData(e,t){let o=this;return e&&(Array.isArray(e)||(e=[e]),(e=Neo.clone(e,!0)).forEach(((t,r)=>{c.isRecord(t)||(e[r]=c.createRecord(o.model,t))}))),e}beforeSetInitialData(e,t){return!e&&t?t:e}beforeSetModel(e,t){return t&&t.destroy(),n.Z.beforeSetInstance(e,l.Z)}createRecord(e){c.createRecord(e)}load(){let e=this;Neo.Xhr.promiseJson({url:e.url}).then((t=>{e.data=Array.isArray(t.json)?t.json:t.json.data})).catch((t=>{console.log("Error for Neo.Xhr.request",t,e.id)}))}onCollectionMutate(e){let t=this;t.configsApplied&&t.fire("load",t.items)}onCollectionSort(){this.configsApplied}onConstructed(){super.onConstructed();let e=this;e.data&&e.afterSetData(e.data),e.autoLoad&&setTimeout((()=>{e.load()}),100)}onRecordChange(e){this.fire("recordChange",{...e,index:this.indexOf(e.record)})}sort(e={}){let t=this;t.remoteSort||t.configsApplied&&(e.direction?t.sorters=[{direction:e.direction,property:e.property}]:(t.startUpdate(),t.clear(),t.sorters=[],t.add([...t.initialData]),t.endUpdate(),t.fire("sort")))}}Neo.applyClassConfig(h)},748:(e,t,o)=>{o.d(t,{Z:()=>h});var r=o(944);class n extends r.Z{static getConfig(){return{className:"Neo.form.field.Base",ntype:"basefield",value_:null}}afterSetValue(e,t){void 0!==t&&this.fireChangeEvent(e,t)}fireChangeEvent(e,t){this.fire("change",{component:this,oldValue:t,value:e})}getSubmitValue(){return this.value}isValid(){return!0}reset(e){this.value=e}}Neo.applyClassConfig(n);var l=o(565);class i extends r.Z{static getStaticConfig(){return{alignValues:["end","start"]}}static getConfig(){return{className:"Neo.form.field.trigger.Base",ntype:"trigger",align_:"end",cls:["neo-field-trigger"],field:null,hidden_:!1,iconCls_:null,isHovered:!1,scope:null,showOnHover:!1,type:"base",_vdom:{tabIndex:-1},weight_:10}}constructor(e){super(e);let t,o=this,r=o.domListeners||[];r.push({click:o.onTriggerClick,scope:o}),o.domListeners=r,o.showOnHover&&(o.hidden=!0,o.field.on("constructed",(()=>{t=o.field.domListeners||[],t.push({mouseenter:o.onMouseEnter,scope:o},{mouseleave:o.onMouseLeave,scope:o}),o.field.domListeners=t}),o))}afterSetAlign(e,t){let o=this.cls;l.Z["start"===e?"add":"remove"](o,"neo-align-start"),this.cls=o}afterSetHidden(e,t){let o=this.vdom;(o.style||{}).display=e?"none":"inline-block",this.vdom=o}afterSetIconCls(e,t){let o=this.cls;l.Z.remove(o,t),e&&""!==e&&l.Z.add(o,e),this.cls=o}beforeSetAlign(e,t){return this.beforeSetEnumValue(e,t,"align","alignValues")}destroy(e,t){let o=this;o.removeDomListeners({click:{fn:o.onTriggerClick,scope:o}}),delete o.field,super.destroy(e,t)}onMouseEnter(){this.isHovered=!0,this.hidden=!1}onMouseLeave(){this.isHovered=!1,this.hidden=!0}onTriggerClick(e){let t=this,o=t.scope||t;t.handler&&o[t.handler].call(o)}}Neo.applyClassConfig(i);class s extends i{static getConfig(){return{className:"Neo.form.field.trigger.Clear",ntype:"trigger-clear",cls:["neo-field-trigger","neo-trigger-clear"],iconCls:"fa fa-times",type:"clear",weight:20}}afterSetHidden(e,t){let o=this.cls;l.Z[e?"add":"remove"](o,"neo-is-hidden"),this.cls=o}beforeSetHidden(e,t){return!(!this.showOnHover||this.isHovered)||e}destroy(...e){let t=this;t.field.un({change:t.onFieldChange,changeClearToOriginalValue:t.onFieldChange,scope:t}),super.destroy(...e)}getHiddenState(){let e=this.field,t=e.value;return e.clearToOriginalValue?t===e.originalConfig.value:(0===t&&(t="0"),!e.value||t.toString().length<1)}onFieldChange(e){this.hidden=this.getHiddenState()}onConstructed(){super.onConstructed();let e=this;e.field.on({change:e.onFieldChange,changeClearToOriginalValue:e.onFieldChange,scope:e}),e.hidden=e.getHiddenState()}onMouseEnter(){let e=this;e.isHovered=!0,e.hidden=e.getHiddenState()}onTriggerClick(e){this.field.clear()}}Neo.applyClassConfig(s);var a=o(892),d=o(562);class c extends n{static getStaticConfig(){return{autoCapitalizeValues:["characters","none","on","off","sentences","words"],labelPositions:["bottom","inline","left","right","top"]}}static getConfig(){return{className:"Neo.form.field.Text",ntype:"textfield",autoCapitalize_:"off",autoComplete_:!1,centerBorderElWidth:null,clearable_:!0,clearToOriginalValue_:!1,cls:["neo-textfield"],hideLabel_:!1,inputType_:"text",labelPosition_:"left",labelText_:"LabelText",labelWidth_:150,placeholderText_:null,required_:!1,spellCheck_:!1,triggers_:null,_vdom:{cn:[{tag:"label",cls:["neo-textfield-label"],style:{}},{tag:"input",cls:["neo-textfield-input"],flag:"neo-real-input",style:{}}]}}}constructor(e){super(e);let t=this,o=t.domListeners;o.push({input:t.onInputValueChange,scope:t}),t.domListeners=o}afterSetAppName(e,t){super.afterSetAppName(e,t),e&&this.triggers?.forEach((t=>{t.appName=e}))}afterSetAutoCapitalize(e,t){this.changeInputElKey("autocapitalize","off"===e||"none"===e?null:e)}afterSetAutoComplete(e,t){this.changeInputElKey("autocomplete",e?null:"off")}afterSetClearable(e,t){let o,r=this;e?(o=r.triggers||[],o.unshift(s),r.triggers=o):r.removeTrigger("clear")}afterSetClearToOriginalValue(e,t){this.fire("changeClearToOriginalValue",{oldValue:t,value:e})}afterSetHideLabel(e,t){let o=this,r=o.vdom;r.cn[0].removeDom=e,o._vdom=r,o.updateInputWidth()}afterSetId(e,t){let o=this,r=o.getInputEl(),n=o.getInputElId(),l=o.getLabelEl();r.id=n,l.id=o.getLabelId(),l.for=n,super.afterSetId(e,t)}afterSetInputType(e,t){this.changeInputElKey("type",e)}afterSetLabelPosition(e,t){let o,r,n,i=this,s=i.cls;l.Z.remove(s,"label-"+t),l.Z.add(s,"label-"+e),i["inline"===t||"inline"===e?"_cls":"cls"]=s,"inline"===t?(n=i.vdom,n.cn[0]=i.getLabelEl(),n.cn[0].width=i.labelWidth,i._vdom=n,i.updateInputWidth()):"inline"===e&&(o=["neo-center-border"],r=i.isEmpty(),n=i.vdom,r||o.push("neo-float-above"),delete n.cn[0].width,n.cn[0]={cls:["neo-label-wrapper"],cn:[{cls:["neo-left-border"]},{cls:o,cn:[n.cn[0]]},{cls:["neo-right-border"]}]},i._vdom=n,i.updateInputWidth(),r||setTimeout((()=>{i.updateCenterBorderElWidth(!1)}),20))}afterSetLabelText(e,t){let o=this,r=o.isEmpty(),n=o.vdom;o.getLabelEl().innerHTML=e,o.hideLabel?o._vdom=n:"inline"===o.labelPosition?(r||delete o.getCenterBorderEl().width,o.promiseVdomUpdate(n).then((()=>{o.updateCenterBorderElWidth(r)}))):o.vdom=n}afterSetLabelWidth(e,t){if("inline"!==this.labelPosition){let t=this,o=t.vdom;o.cn[0].width=e,t._vdom=o,!t.hideLabel&&t.updateInputWidth()}}afterSetMounted(e,t){super.afterSetMounted(e,t);let o=this;if(void 0!==t){let t=o.triggers||[],r=0,n=t.length;for(;r<n;r++)t[r].vdom.removeDom||(t[r].mounted=e);"inline"===o.labelPosition&&(e?o.updateCenterBorderElWidth():delete o.getCenterBorderEl().width)}}afterSetPlaceholderText(e,t){this.changeInputElKey("placeholder",""===e?null:e)}afterSetRequired(e,t){this.changeInputElKey("required",e||null)}afterSetSpellCheck(e,t){this.changeInputElKey("spellcheck",Neo.isBoolean(e)?e:null)}afterSetTriggers(e,t){let o,r=this,n=r.vdom,l=n.cn[1],i=[],s=[];t&&t.forEach((e=>{r.getTrigger(e.type)||e.destroy()})),e.length>0?(e.forEach((e=>{"start"===e.align?i.push(e):s.push(e)})),s.sort(((e,t)=>t.weight-e.weight)),i.sort(((e,t)=>e.weight-t.weight)),s=s.map((e=>e.vdom)),i=i.map((e=>e.vdom)),"input"===l.tag?(n.cn[1]={cls:["neo-input-wrapper"],cn:[...i,l,...s],id:r.getInputWrapperId(),width:l.width},delete l.width):l.cn=[...i,r.getInputEl(),...s]):"input"!==l.tag&&(o=l.width,n.cn[1]=r.getInputEl(),n.cn[1].width=o),r.promiseVdomUpdate().then((()=>{r.updateTriggerVnodes()}))}afterSetValue(e,t){let o=this,r=o.vdom;o.getInputEl().value=e,!!e!=!!t&&l.Z[e&&e.toString().length>0?"add":"remove"](o._cls,"neo-has-content"),l.Z[o.originalConfig.value!==e?"add":"remove"](o._cls,"neo-is-dirty"),o.vdom=r,super.afterSetValue(e,t)}afterSetWidth(e,t){super.afterSetWidth(e,t),this.updateInputWidth()}beforeGetTriggers(e){return Array.isArray(e)?[...e]:e}beforeSetAutoCapitalize(e,t){return this.beforeSetEnumValue(e,t,"autoCapitalize","autoCapitalizeValues")}beforeSetLabelPosition(e,t){return this.beforeSetEnumValue(e,t,"labelPosition")}beforeSetTriggers(e,t){e?Array.isArray(e)||(e=[e]):e=[];let o=this;return e.forEach(((t,r)=>{t.isClass?e[r]=Neo.create(t,{appName:o.appName,id:o.getTriggerId(t.prototype.type),field:o}):t instanceof i||(t.module||t.ntype||(t.ntype="trigger"),t.module&&(t.className=t.module.prototype.className,t.id=o.getTriggerId(t.module.prototype.type)),e[r]=Neo[t.className?"create":"ntype"]({...t,appName:o.appName,field:o}))})),e}changeInputElKey(e,t){let o=this,r=o.vdom;t||Neo.isBoolean(t)||0===t?o.getInputEl()[e]=t:delete o.getInputEl()[e],o.vdom=r}clear(){let e=this;e.value=e.clearToOriginalValue?e.originalConfig.value:null,e.fire("clear")}focus(e=this.id){super.focus(this.getInputElId())}getCenterBorderEl(){return a.Z.findVdomChild(this.vdom,{cls:"neo-center-border"})?.vdom}getInputEl(){return a.Z.findVdomChild(this.vdom,{flag:"neo-real-input"})?.vdom}getInputElId(){return`${this.id}__input`}getInputWidth(){let e=this,t=e.hideLabel||"bottom"===e.labelPosition||"inline"===e.labelPosition||"top"===e.labelPosition?0:e.labelWidth,o=e.width;return t&&o?parseInt(o)-parseInt(t):o||null}getInputWrapperId(){return`${this.id}__input-wrapper`}getLabelEl(){return a.Z.findVdomChild(this.vdom,{tag:"label"})?.vdom}getLabelId(){return`${this.id}__label`}getTrigger(e){let t=this.triggers||[],o=0,r=t.length;for(;o<r;o++)if(t[o].type===e)return t[o];return null}getTriggerById(e){let t=this.triggers||[],o=0,r=t.length;for(;o<r;o++)if(t[o].id===e)return t[o];return null}getTriggerId(e){return this.id+"-trigger-"+e}hasTrigger(e){let t=this.triggers||[],o=0,r=t.length;for(;o<r;o++)if(t[o].type===e)return!0;return!1}isEmpty(){return!(this.value?.toString().length>0)}isValid(){let e=this;return!(e.required&&(!e.value||e.value?.length<1))&&super.isValid()}mergeConfig(...e){let t=super.mergeConfig(...e),o=t.triggers||this.triggers;return this[o?"triggers":"_triggers"]=o,delete t.triggers,t}onFocusEnter(e){let t,o=this,r=o.cls;l.Z.add(r,"neo-focus"),o.cls=r,"inline"===o.labelPosition&&(o.centerBorderElWidth?(t=o.vdom,o.getCenterBorderEl().width=o.centerBorderElWidth,o.vdom=t):o.updateCenterBorderElWidth(!1))}onFocusLeave(e){let t,o=this,r=o.getCenterBorderEl(),n=o.cls;l.Z.remove(n,"neo-focus"),r&&o.isEmpty()?(o._cls=n,t=o.vdom,delete r.width,o.vdom=t):o.cls=n}onInputValueChange(e){let t=this,o=e.value,r=t.value,n=d.Z.findChildVnode(t.vnode,{nodeName:"input"});n&&(n.vnode.attributes.value=o),o!==r&&(t.value=o)}removeTrigger(e,t=!1,o){let r,n=!1,i=o||this.triggers||[],s=0,a=i.length;for(;s<a;s++)r=i[s],r.type===e&&(l.Z.remove(i,r),a--,n=!0);return n&&!t&&(this.triggers=i),n}reset(e=null){e&&this.clearToOriginalValue&&(this.originalConfig.value=e),super.reset(e)}updateCenterBorderElWidth(e=!1){let t=this;t.mounted&&Neo.main.DomAccess.getBoundingClientRect({id:t.getCenterBorderEl().id}).then((o=>{if(t.centerBorderElWidth=Math.round(.7*o.width)+8,!e){let e=t.vdom;t.getCenterBorderEl().width=t.centerBorderElWidth,t.vdom=e}}))}updateInputWidth(){let e=this,t=e.getInputWidth(),o=e.vdom;null!==t&&t!==e.width?o.cn[1].width=t:delete o.cn[1].width,e.vdom=o}updateTriggerVnodes(){let e,t=this,o=t.vnode?.childNodes[1];(o?.childNodes||[]).forEach((o=>{e=t.getTriggerById(o.id),e&&Object.assign(e,{vnode:o,_rendered:!0,_mounted:!0})}))}}Neo.applyClassConfig(c);class h extends c{static getConfig(){return{className:"Neo.form.field.Search",ntype:"searchfield",cls:["neo-searchfield","neo-textfield"],hideLabel:!0,placeholderText:"Search"}}}Neo.applyClassConfig(h)},626:(e,t,o)=>{o.d(t,{Z:()=>c});var r=o(66),n=o(944),l=o(74),i=o(565);o(622);class s extends l.Z{static getStaticConfig(){return{observable:!0}}static getConfig(){return{className:"Neo.selection.Model",ntype:"selection-model",cls:null,items_:null,selectedCls:"neo-selected",singleSelect:!0,view_:null}}beforeGetItems(e){return e||(this._items=e=[]),e}beforeGetView(e){return Neo.getComponent(this._view)}beforeSetView(e){return e&&e.id}addDomListener(){}deselect(e,t,o,r){let n,l=this,s=l.view,a=s.vdom,d=s.getVdomChild(e);d&&(n=d.cls||[],i.Z.remove(n,r||l.selectedCls),d.cls=n),i.Z.remove(o||l.items,e),t||(s.vdom=a)}deselectAll(e){let t=this,o=[...t.items],r=t.view,n=r.vdom;o.forEach((e=>{t.deselect(e,!0)})),!e&&o.length>0&&(r.vdom=n)}destroy(){this.unregister(),super.destroy()}getSelection(){return this.items}hasSelection(){return this.items.length>0}isSelected(e){return this.items.includes(e)}register(e){let t=this,o=e.cls||[];t.cls&&!o.includes(t.cls)&&(o.push(t.cls),e.cls=o),t.view=e,t.addDomListener()}removeDomListeners(){let e=this,t=e.view,o=[...t.domListeners];t.domListeners.forEach((t=>{t.scope===e&&i.Z.remove(o,t)})),t.domListeners=o}select(e,t,o){e=Array.isArray(e)?e:[e];let r,n=this,l=n.view,s=l.vdom;t=t||n.items,Neo.isEqual(t,e)||(n.singleSelect&&n.deselectAll(!0),e.forEach((e=>{"string"==typeof e&&(e=l.getVdomChild(e)),e&&(r=e.cls||[],i.Z.add(r,o||n.selectedCls),e.cls=r)})),i.Z.add(t,e),l[l.silentSelect?"_vdom":"vdom"]=s,l.onSelect?.(e))}toggleSelection(e){let t=this;t.isSelected(e)?t.deselect(e):t.select(e)}unregister(){let e=this,t=e.view.cls||[];e.cls&&t.includes(e.cls)&&(i.Z.remove(t,e.cls),e.view.cls=t),e.deselectAll(),e.removeDomListeners()}}Neo.applyClassConfig(s);class a extends s{static getConfig(){return{className:"Neo.selection.ListModel",ntype:"selection-listmodel",stayInList:!0}}onKeyDownDown(e){!this.view.disableSelection&&this.onNavKey(e,1)}onKeyDownEnter(e){let t=this.view;!t.disableSelection&&t.onKeyDownEnter?.(this.getSelection()[0])}onKeyDownLeft(e){this.onKeyDownUp(e)}onKeyDownRight(e){this.onKeyDownDown(e)}onKeyDownUp(e){!this.view.disableSelection&&this.onNavKey(e,-1)}onNavKey(e,t){let o,r,n,l,i,s,a=this,d=a.view,c=d.store,h=c.getCount(),u=!1;for(l of e.path)if(l.cls.includes(d.itemCls)){r=l.id;break}r=r||a.items?.[0],r?(s=d.getItemRecordId(r),o=c.indexOf(s)+t,o<0?a.stayInList?o=h-1:(u=!0,a.deselectAll(),d.fire("selectPreFirstItem")):o>=h&&(a.stayInList?o=0:(u=!0,a.deselectAll(),d.fire("selectPostLastItem")))):o=0,u||(i=c.getAt(o),n=d.getItemId(i[a.view.getKeyProperty()]),a.select(n),d.focus(n),d.fire("itemNavigate",i))}register(e){super.register(e);let t=this.id,o=this.view;o.keys&&o.keys._keys.push({fn:"onKeyDownDown",key:"Down",scope:t},{fn:"onKeyDownEnter",key:"Enter",scope:t},{fn:"onKeyDownLeft",key:"Left",scope:t},{fn:"onKeyDownRight",key:"Right",scope:t},{fn:"onKeyDownUp",key:"Up",scope:t})}selectAt(e){let t=this.view,o=t.store.getKeyAt(e),r=o&&t.getItemId(o);r&&(this.select(r),t.focus(r))}unregister(){let e=this.id,t=this.view;t.keys&&t.keys.removeKeys([{fn:"onKeyDownDown",key:"Down",scope:e},{fn:"onKeyDownEnter",key:"Enter",scope:e},{fn:"onKeyDownLeft",key:"Left",scope:e},{fn:"onKeyDownRight",key:"Right",scope:e},{fn:"onKeyDownUp",key:"Up",scope:e}]),super.unregister()}}Neo.applyClassConfig(a);var d=o(909);class c extends n.Z{static getConfig(){return{className:"Neo.list.Base",ntype:"list",autoDestroyStore:!0,cls:["neo-list-container","neo-list"],disableSelection_:!1,displayField:"name",draggable_:!1,dragZone:null,dragZoneConfig:null,highlightFilterValue:!0,itemCls:"neo-list-item",itemTagName:"li",keys:{},selectionModel_:null,silentSelect:!1,store_:null,useCheckBoxes_:!1,_vdom:{tag:"ul",cn:[]}}}constructor(e){super(e);let t=this,o=t.domListeners;o.push({click:{fn:t.onClick,scope:t}}),t.domListeners=o}afterSetDisableSelection(e,t){e&&this.rendered&&this.selectionModel?.deselectAll()}afterSetDraggable(e,t){let r=this;e&&!r.dragZone&&o.e(860).then(o.bind(o,860)).then((e=>{r.dragZone=Neo.create({module:e.default,appName:r.appName,owner:r,...r.dragZoneConfig})}))}afterSetSelectionModel(e,t){this.rendered&&e.register(this)}afterSetStore(e,t){let o=this;e?.on({filter:o.onStoreFilter,load:o.onStoreLoad,recordChange:o.onStoreRecordChange,scope:o}),e?.getCount()>0&&o.onStoreLoad()}afterSetUseCheckBoxes(e,t){let o=this.cls;i.Z[e?"add":"remove"](o,"neo-use-checkicons"),this.cls=o}beforeSetSelectionModel(e,t){return t&&t.destroy(),r.Z.beforeSetInstance(e,a)}beforeSetStore(e,t){return t&&t.destroy(),r.Z.beforeSetInstance(e,d.Z)}createItem(e,t){let o,r=this,n=[r.itemCls],l=r.createItemContent(e,t),i=r.getItemId(e[r.getKeyProperty()]),s=r.selectionModel;switch(!r.disableSelection&&s&&s.isSelected(i)&&n.push(s.selectedCls),o={tag:r.itemTagName,cls:n,id:r.getItemId(e[r.getKeyProperty(i)]),tabIndex:-1},Neo.typeOf(l)){case"Array":o.cn=l;break;case"Object":Object.assign(o,l);break;case"String":o.html=l}return o}createItemContent(e,t){let o,r=this,n=e[r.displayField];return r.highlightFilterValue&&(o=r.store.getFilter(r.displayField),o&&null!==o.value&&""!==o.value&&(n=n.replace(new RegExp(o.value,"gi"),(function(e){return'<span class="neo-highlight-search">'+e+"</span>"})))),n}createItems(e=!1){let t=this,o=t.vdom;o.cn=[],t.store.items.forEach(((e,r)=>{o.cn.push(t.createItem(e,r))})),e?t._vdom=o:t.promiseVdomUpdate().then((()=>{t.fire("createItems")}))}destroy(){let e=this;e.selectionModel?.destroy(),e.autoDestroyStore&&e.store?.destroy(),super.destroy()}focus(e){super.focus(e),e&&Neo.main.DomAccess.scrollIntoView({behavior:"auto",id:e||this.id})}getItemId(e){return`${this.id}__${e}`}getItemRecordId(e){let t=e.split("__")[1],o=this.store.model,r=o?.getField(o.keyProperty);return"integer"!==r?.type.toLowerCase()&&"number"!==r?.type.toLowerCase()||(t=parseInt(t)),t}getKeyProperty(){return this.store.keyProperty||this.store.model.keyProperty}onClick(e){let t,o=this;if(e.path[0].id===o.id)o.onContainerClick(e);else for(t of e.path)if(t.cls.includes(o.itemCls)){o.onItemClick(t,e);break}}onConstructed(){super.onConstructed(),this.selectionModel?.register(this)}onContainerClick(e){this.fire("containerClick",e)}onItemClick(e,t){let o=this;!o.disableSelection&&o.selectionModel?.select(e.id),o.fire("itemClick",o.store.get(o.getItemRecordId(e.id)))}onStoreFilter(){this.createItems()}onStoreLoad(){let e,t=this;!t.mounted&&t.rendering?e=t.on("rendered",(()=>{t.un("rendered",e),t.createItems()})):t.createItems()}onStoreRecordChange(e){let t=this,o=e.index,r=t.vdom;o>-1&&(r.cn[o]=t.createItem(e.record,o),t.vdom=r)}selectItem(e){!this.disableSelection&&this.selectionModel?.selectAt(e)}}Neo.applyClassConfig(c)},683:(e,t,o)=>{o.d(t,{Z:()=>i});var r=o(626),n=o(371),l=o(565);class i extends r.Z{static getConfig(){return{className:"Neo.tree.List",ntype:"treelist",cls:["neo-tree-list"],disableSelection:!0,dragZone:null,showCollapseExpandAllIcons:!0,sortable_:!1,sortZone:null,sortZoneConfig:null,_vdom:{cn:[{tag:"ul",cls:["neo-list-container","neo-list"],cn:[]}]}}}afterSetDraggable(e,t){let r=this;e&&(r.sortable?console.error("tree.List can be either draggable or sortable, not both.",r.id):r.dragZone||o.e(684).then(o.bind(o,684)).then((e=>{r.dragZone=Neo.create({module:e.default,appName:r.appName,owner:r,...r.dragZoneConfig})})))}afterSetSortable(e,t){let r=this;e&&(r.draggable?console.error("tree.List can be either draggable or sortable, not both.",r.id):r.sortZone||o.e(342).then(o.bind(o,342)).then((e=>{r.sortZone=Neo.create({module:e.default,appName:r.appName,boundaryContainerId:r.id,owner:r,...r.sortZoneConfig})})))}beforeSetStore(e,t){return e||(e=Neo.create(n.Z,{keyProperty:"id"})),super.beforeSetStore(e,t)}collapseAll(e=!1){let t,o=this,r=o.vdom,n=!1;o.store.items.forEach((e=>{e.isLeaf||(t=o.getVdomChild(o.getItemId(e.id),r),t.cls.includes("neo-folder-open")&&(l.Z.remove(t.cls,"neo-folder-open"),n=!0))})),n&&(o[e?"_vdom":"vdom"]=r)}createItems(e,t,o){let r,n,l=this,i=l.store.find("parentId",e);return i.length>0&&(t.cn||(t.cn=[]),null!==e?(t.cn.push({tag:"ul",cls:["neo-list"],cn:[],style:{paddingLeft:"15px"}}),n=t.cn[t.cn.length-1]):n=t,i.forEach((e=>{r=["neo-list-item"],e.isLeaf?r.push(e.singleton?"neo-list-item-leaf-singleton":"neo-list-item-leaf"):(r.push("neo-list-folder"),e.collapsed||r.push("neo-folder-open")),n.cn.push({tag:"li",cls:r,id:l.getItemId(e.id),cn:[{tag:"span",cls:["neo-list-item-content"],innerHTML:e.name,style:{pointerEvents:"none"}}],style:{padding:"10px",position:e.isLeaf?null:"sticky",top:e.isLeaf?null:38*o+"px",zIndex:e.isLeaf?null:20/(o+1)}}),n=l.createItems(e.id,n,o+1)}))),t}expandAll(e=!1){let t,o=this,r=o.vdom,n=!1;o.store.items.forEach((e=>{e.isLeaf||(t=o.getVdomChild(o.getItemId(e.id),r),t.cls.includes("neo-folder-open")||(l.Z.add(t.cls,"neo-folder-open"),n=!0))})),n&&(o[e?"_vdom":"vdom"]=r)}filter(e,t,o,r=!1){let n,l,i,s=this,a=!0,d=new RegExp(t,"gi"),c=s.vdom;return t||(t=""),s.store.items.forEach((h=>{h.parentId===o&&(l=!1,i=s.getVdomChild(s.getItemId(h.id),c),i.cn[0].innerHTML=h[e].replace(d,(e=>(l=!0,`<span class="neo-highlight-search">${e}</span>`))),n=!!h.isLeaf||s.filter(e,t,h.id,l||r),(l||r||!1===n||""===t)&&(a=!1),i.style.display=a?"none":"list-item")})),null===o&&(s.expandAll(!0),s.vdom=c),a}getListItemsRoot(){return this.vdom.cn[this.showCollapseExpandAllIcons?2:0]}onClick(e){e.target.cls.includes("neo-treelist-menu-item")?this.onMenuItemClick(e.target.cls):super.onClick(e)}onConstructed(){super.onConstructed();let e=this,t=e.vdom;e.showCollapseExpandAllIcons&&(t.cn.unshift({cls:["neo-treelist-menu-item","neo-treelist-collapse-all-icon"],cn:[{tag:"span",cls:["neo-treelist-menu-item-content"]}]},{cls:["neo-treelist-menu-item","neo-treelist-expand-all-icon"],cn:[{tag:"span",cls:["neo-treelist-menu-item-content"]}]}),e.vdom=t)}onItemClick(e,t){let o,r,n,i,s=this,a=s.vdom,d=s.store.items,c=0,h=d.length,u=t.path.map((e=>e.id));for(;c<h;c++)if(n=d[c],i=s.getItemId(n.id),u.includes(i)){r=n,o=s.getVdomChild(i);break}o&&(o.cls?.includes("neo-list-folder")?(l.Z.toggle(o.cls,"neo-folder-open"),s.vdom=a):(s.onLeafItemClick(r),s.fire("leafItemClick",r)),super.onItemClick(e,t))}onLeafItemClick(e){}onMenuItemClick(e){e.includes("neo-treelist-collapse-all-icon")?this.collapseAll():this.expandAll()}}Neo.applyClassConfig(i)}}]);