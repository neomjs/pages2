"use strict";(self.webpackChunkmainapp=self.webpackChunkmainapp||[]).push([[482],{482:(e,a,n)=>{n.r(a),n.d(a,{default:()=>i});var o=n(74),s=n(194);class r extends o.Z{static getConfig(){return{className:"Neo.main.addon.ServiceWorker",singleton:!0}}construct(e){if("serviceWorker"in navigator){let e=this,a=Neo.config,n="development"===a.environment,o=n?"ServiceWorker.mjs":"serviceworker.js",r=window.location.pathname.includes("/examples/")?"examples/":"apps/",t=n?{type:"module"}:{},i=(n?a.basePath:a.workerBasePath)+(n?r:"")+o,c=navigator.serviceWorker;window.addEventListener("beforeunload",e.onBeforeUnload.bind(e)),c.register(i,t).then((e=>{c.ready.then((()=>{c.onmessage=s.Z.onWorkerMessage.bind(s.Z),s.Z.sendMessage("service",{action:"registerNeoConfig",data:a})}))}))}}onBeforeUnload(){s.Z.sendMessage("service",{action:"unregisterPort"})}}Neo.applyClassConfig(r);let t=Neo.create(r);Neo.applyToGlobalNs(t);const i=t}}]);