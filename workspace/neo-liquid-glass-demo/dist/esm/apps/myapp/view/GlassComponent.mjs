import t from"../../../src/component/Base.mjs";import e from"../../../src/util/VDom.mjs";const a=720,i=400,s="./resources/images/room.jpg";export default Neo.setupClass(class extends t{static config={className:"MyApp.view.GlassComponent",baseCls:["neo-svg-glass"],maskPosition_:{x:0,y:0},vdom:{tag:"svg",viewBox:"0 0 1920 1080",preserveAspectRatio:"xMidYMid meet",cn:[{tag:"defs",cn:[{tag:"filter",id:"glass-distortion",x:"0",y:"0",width:"100%",height:"100%",cn:[{tag:"feTurbulence",type:"fractalNoise",numOctaves:"2",seed:"92",result:"noise",cn:[{tag:"animate",id:"noiseAnimate",attributeName:"baseFrequency",values:"0.002;.008;0.002",from:"0",to:"8",dur:"10s",repeatCount:"indefinite"}]},{tag:"feGaussianBlur",in:"noise",stdDeviation:"2",result:"blurred"},{tag:"feDisplacementMap",in:"SourceGraphic",in2:"blurred",scale:"77",xChannelSelector:"R",yChannelSelector:"G"}]},{tag:"filter",id:"shadow",x:"-50%",y:"-50%",width:"200%",height:"200%",cn:[{tag:"feDropShadow",dx:"-6",dy:"-6",stdDeviation:4,floodColor:"rgba(255,255,255,1)"},{tag:"feDropShadow",dx:"6",dy:"6",stdDeviation:4,floodColor:"rgba(0,0,0,0.2)"}]},{tag:"mask",id:"glass-mask",cn:[{tag:"rect",flag:"mask-rect",width:a,height:i,rx:28,ry:28,fill:"white"}]}]},{tag:"image",href:s,width:"1920",height:"1080",preserveAspectRatio:"xMidYMid meet"},{tag:"foreignObject",x:"600",y:"200",width:"720",height:"400",cn:[{tag:"button",html:"Click Me"}]},{tag:"image",href:s,width:"1920",height:"1080",preserveAspectRatio:"xMidYMid meet",filter:"url(#glass-distortion)",mask:"url(#glass-mask)"},{tag:"foreignObject",x:"600",y:"200",width:"720",height:"400",filter:"url(#glass-distortion)",mask:"url(#glass-mask)",cn:[{tag:"button",cls:["custom-button"],html:"Click Me"}]},{tag:"rect",flag:"shadow-rect",width:a,height:i,rx:28,ry:28,fill:"white",opacity:"0.2",filter:"url(#shadow)"}]}};#t=0;#e={x:0,y:0,dx:75,dy:75};#a=performance.now();construct(t){super.construct(t);let e=this;e.addDomListeners({click:e.onCustomButtonClick,delegate:"custom-button",scope:e})}afterSetMounted(t,e){super.afterSetMounted(t,e);let a=this;void 0!==e&&(t?a.#t=globalThis.requestAnimationFrame(a.animate.bind(a)):this.#t&&globalThis.cancelAnimationFrame(a.#t))}afterSetMaskPosition(t,a){let{vdom:i}=this,s=e.getByFlag(i,"mask-rect"),o=e.getByFlag(i,"shadow-rect");Object.assign(s,t),Object.assign(o,t),this.update()}animate(t){const e=this,a=(t-e.#a)/1e3;e.#a=t;let{x:i,y:s,dx:o,dy:n}=e.#e;i+=o*a,s+=n*a,i<0&&(i=0,o*=-1),i>1200&&(i=1200,o*=-1),s<0&&(s=0,n*=-1),s>680&&(s=680,n*=-1),e.#e={x:i,y:s,dx:o,dy:n},e.maskPosition={x:i,y:s},e.#t=self.requestAnimationFrame(e.animate.bind(e))}onCustomButtonClick(t){Neo.Main.alert({message:"Button clicked!"})}});