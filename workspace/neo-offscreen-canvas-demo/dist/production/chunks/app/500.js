"use strict";(self.webpackChunkneo_offscreen_canvas_demo=self.webpackChunkneo_offscreen_canvas_demo||[]).push([[500],{4500:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var n=s(3607);class r extends n.A{static config={className:"Neo.remotes.Api",singleton:!0};generateRemote(e,t){return function(...s){return Neo.currentWorker.promiseMessage("data",{action:"rpc",method:t,params:[...s],service:e})}}load(){let{config:e}=Neo,t="development"===e.environment||"dist/esm"===e.environment,s=e.remotesApiUrl;s.includes("http")||(s=e.appPath.split("/"),s.pop(),s=`${s.join("/")}/${e.remotesApiUrl}`,s=(t?"../../":"./")+s),fetch(s).then((e=>e.json())).then((e=>{Neo.currentWorker.sendMessage("data",{action:"registerApi",data:e}),this.register(e)}))}register(e){let t;Object.entries(e.services).forEach((([s,n])=>{t=Neo.ns(`${e.namespace}.${s}`,!0),Object.entries(n.methods).forEach((([e,n])=>{t[e]=this.generateRemote(s,e)}))}))}}const o=Neo.setupClass(r)}}]);