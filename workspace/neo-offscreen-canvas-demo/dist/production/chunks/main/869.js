"use strict";(self.webpackChunkneo_offscreen_canvas_demo=self.webpackChunkneo_offscreen_canvas_demo||[]).push([[869,880],{869:(e,t,i)=>{i.r(t),i.d(t,{default:()=>l});var s=i(880),a=i(263),n=i(96);class o extends s.default{static config={className:"Neo.main.addon.ResizeObserver",instance:null,registerAttempts:3,remote:{app:["register","unregister"]}};construct(e){super.construct(e);let t=this;t.instance=new ResizeObserver(t.onResize.bind(t))}onResize(e,t){e.forEach((e=>{let t=e.borderBoxSize[0],i=e.contentBoxSize[0],s=e.devicePixelContentBoxSize?.[0]||{},a=n.A.getPathFromElement(e.target).map((e=>n.A.getTargetData(e)));Neo.worker.Manager.sendMessage("app",{action:"domEvent",eventName:"resize",data:{contentRect:n.A.parseDomRect(e.contentRect),id:e.target.id,path:a,rect:a[0].rect,borderBoxSize:{blockSize:t.blockSize,inlineSize:t.inlineSize},contentBoxSize:{blockSize:i.blockSize,inlineSize:i.inlineSize},devicePixelContentBoxSize:{blockSize:s.blockSize,inlineSize:s.inlineSize}}})}))}async register(e,t=0){let i=this,s=a.A.getElement(e.id);s?i.instance.observe(s):t<i.registerAttempts&&(await i.timeout(100),t++,i.register(e,t))}unregister(e){let t=a.A.getElement(e.id);t&&this.instance.unobserve(t)}}const l=Neo.setupClass(o)},880:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});var s=i(607);class a extends s.A{static config={className:"Neo.main.addon.Base",isMainThreadAddon:!0,isReady_:!1,preloadFilesDelay:5e3};cache=[];isLoading=!1;loadingTimeoutId=null;construct(e){super.construct(e);let t=this;t.loadFiles&&(0===t.preloadFilesDelay?t.loadFiles():Neo.isNumber(t.preloadFilesDelay)&&(t.loadingTimeoutId=setTimeout((()=>{t.loadFiles()}),t.preloadFilesDelay)))}afterSetIsReady(e,t){if(e){let e,t=this;t.cache.forEach((i=>{e=t[i.fn](i.data),i.resolve(e)})),t.cache=[]}}cacheMethodCall(e){let t=this;return t.isLoading||(t.loadingTimeoutId&&clearTimeout(t.loadingTimeoutId),t.loadingTimeoutId=null,t.loadFiles()),new Promise(((i,s)=>{t.cache.push({...e,resolve:i})}))}}const n=Neo.setupClass(a)}}]);