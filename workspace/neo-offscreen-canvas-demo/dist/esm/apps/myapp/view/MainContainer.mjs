import t from"../../../src/component/Label.mjs";import e from"../../../src/toolbar/Base.mjs";import n from"../../../src/container/Viewport.mjs";import o from"./WebGlComponent.mjs";export default Neo.setupClass(class extends n{static config={className:"MyApp.view.MainContainer",autoMount:!0,layout:{ntype:"vbox",align:"stretch"}};construct(n){super.construct(n);let i=this;i.items=[{ntype:"container",flex:1,items:[o],layout:{ntype:"fit"},vdom:{tag:"d3fc-group","auto-resize":!0,cn:[]}},{module:e,flex:"none",items:[{handler:i.onStopAnimationButtonClick.bind(i),text:"Stop Animation"},{handler:i.onStopMainButtonClick.bind(i),style:{marginLeft:".2em"},text:"Stop Main"},{handler:i.changeItemAmount.bind(i,1e4),pressed:!0,style:{marginLeft:"2em"},text:`${1e4.toLocaleString()} items`,toggleGroup:"itemAmount",value:1e4},{handler:i.changeItemAmount.bind(i,1e5),style:{marginLeft:".2em"},text:`${1e5.toLocaleString()} items`,toggleGroup:"itemAmount",value:1e5},{handler:i.changeItemAmount.bind(i,1e6),style:{marginLeft:".2em"},text:`${1e6.toLocaleString()} items`,toggleGroup:"itemAmount",value:1e6},{module:t,reference:"time-label",style:{marginLeft:"2em"},text:`Time: ${i.getTime()}`}]}]}afterSetMounted(t,e){super.afterSetMounted(t,e),t&&setInterval((()=>{this.down({reference:"time-label"}).text=`Time: ${this.getTime()}`}),1e3)}changeItemAmount(t){MyApp.canvas.Helper.changeItemsAmount(t),this.items[1].items.forEach((e=>{"itemAmount"===e.toggleGroup&&(e.pressed=e.value===t)}))}getTime(){return(new Date).toLocaleString(Neo.config.locale,{hour:"2-digit",minute:"2-digit",second:"2-digit"})}onStopAnimationButtonClick(t){let e,n=!0;"Stop Animation"===t.component.text?(e="Start Animation",n=!1):e="Stop Animation",t.component.text=e,MyApp.canvas.Helper.enableAnimation(n)}onStopMainButtonClick(t){Neo.Main.alert(["This alert pauses the JS main thread.\n\n","Notice that the time inside the bottom toolbar has stopped updating.\n\n","Closing this alert will resume the main thread."].join(""))}});