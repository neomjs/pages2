import t from"../component/Base.mjs";class e extends t{static getConfig(){return{className:"Neo.tab.Strip",ntype:"tab-strip",cls:["neo-tab-strip"],tabContainerId:null,useActiveTabIndicator_:!0,_vdom:{cn:[{cls:["neo-active-tab-indicator"]}]}}}afterSetUseActiveTabIndicator(t,e){if(void 0!==e){let e=this,o=e.vdom;o.cn[0].removeDom=!t,e.mounted&&t?(e._vdom=o,e.getActiveTabRectThenMove()):e.vdom=o}}getActiveTabRectThenMove(t){let e=this,o=[],i=e.getTabContainer();e.vnode&&(t?o.push(i.getTabAtIndex(t.value),i.getTabAtIndex(t.oldValue)):o.push(i.getTabAtIndex(i.activeIndex)),o=o.map((t=>t?.id)).filter(Boolean),e.useActiveTabIndicator&&Neo.main.DomAccess.getBoundingClientRect({id:o}).then((t=>{e.moveActiveIndicator(t)})))}getTabContainer(){return Neo.getComponent(this.tabContainerId)}moveActiveIndicator(t){let e,o,i,a=this,n=t[1]||t[0];if(a.useActiveTabIndicator){switch(i=a.vdom,e=i.cn[0],o=a.getTabContainer(),o.tabBarPosition){case"bottom":case"top":e.style={height:null,left:`${n.left}px`,top:null,width:`${n.width}px`};break;case"left":case"right":e.style={height:`${n.height}px`,left:null,top:`${n.top}px`,width:null}}t[1]?(e.style.opacity=0,a.vdom=i,setTimeout((()=>{a.moveActiveIndicator([t[0]])}),50)):(e.style.opacity=1,a.vdom=i,setTimeout((()=>{e.style.opacity=0,a.vdom=i}),300))}}onConstructed(){super.onConstructed();let t=this;t.getTabContainer().on({activeIndexChange:t.getActiveTabRectThenMove,scope:t})}}Neo.applyClassConfig(e);export{e as default};