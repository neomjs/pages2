import e from"../../core/Base.mjs";import t from"../DomAccess.mjs";import i from"./Stylesheet.mjs";class l extends e{static getConfig(){return{className:"Neo.main.addon.HighlightJS",highlightJsPath:"./resources/highlight/highlight.pack.js",highlightJsLineNumbersPath:Neo.config.basePath+"node_modules/highlightjs-line-numbers.js/dist/highlightjs-line-numbers.min.js",remote:{app:["scrollIntoView","syntaxHighlight","syntaxHighlightInit","syntaxHighlightLine"]},singleton:!0,themePath:"./resources/highlightjs-custom-github-theme.css"}}constructor(e){super(e);let l=this;t.loadScript(l.highlightJsPath).then((()=>{t.addScript({src:l.highlightJsLineNumbersPath})})),i.createStyleSheet(null,"hljs-theme",l.themePath)}scrollIntoView(e){let i=t.getElement(e.vnodeId).querySelector('[data-list-header="'+e.text+'"]');i&&i.previousSibling.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}syntaxHighlight(e){if(hljs){let t=document.getElementById(e.vnodeId);hljs.highlightBlock(t),hljs.lineNumbersBlock(t)}else console.error("highlight.js is not included inside the main thread.")}syntaxHighlightInit(e){if(hljs){let e=document.querySelectorAll("pre code:not(.hljs)");Array.prototype.forEach.call(e,hljs.highlightBlock)}else console.error("highlight.js is not included inside the main thread.")}syntaxHighlightLine(e){let t,i=document.getElementById(e.vnodeId),l="neo-highlighted-line";Neo.isNumber(e.addLine)&&(t=i.querySelector('[data-line-number="'+e.addLine+'"]'),t&&(t.parentNode.classList.add(l),t.parentNode.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}))),Neo.isNumber(e.removeLine)&&(t=i.querySelector('[data-line-number="'+e.removeLine+'"]'),t&&t.parentNode.classList.remove(l))}}Neo.applyClassConfig(l);let h=Neo.create(l);Neo.applyToGlobalNs(h);export default h;