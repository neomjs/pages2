import e from"../container/Base.mjs";import l from"../component/Legend.mjs";import s from"../util/Array.mjs";class d extends e{static getConfig(){return{className:"Neo.form.Fieldset",ntype:"fieldset",cls:["neo-fieldset"],collapsed_:!1,collapsible_:!0,disableItemsOnCollapse_:!0,hasLabelClickListener:!1,iconClsChecked_:"far fa-check",iconClsUnchecked_:"far fa-square",itemsDisabledMap:null,legend:null,legendConfig:null,title_:"",_vdom:{tag:"fieldset",cn:[]}}}afterSetCollapsed(e,d){let t=this,i=t.vdom;s[e?"add":"remove"](t._cls,"neo-collapsed"),void 0!==d&&(t.items.forEach(((s,d)=>{0===d&&s instanceof l?s.iconCls=e?t.iconClsUnchecked:t.iconClsChecked:(t.disableItemsOnCollapse&&(t.itemsDisabledMap=t.itemsDisabledMap||[],e?s.disabled?t.itemsDisabledMap.push(s.id):s._disabled=!0:t.itemsDisabledMap.includes(s.id)||(s._disabled=!1)),s.vdom.removeDom=e)})),e||(t.itemsDisabledMap=[])),t.vdom=i}afterSetCollapsible(e,l){let d=this,t=d.cls,i=d.domListeners||[];s[e?"add":"remove"](t,"neo-collapsible"),d.cls=t,d.legend&&(d.legend.useIcon=e),e&&!d.hasLabelClickListener&&(d.hasLabelClickListener=!0,i.push({click:d.onLegendClick,delegate:"neo-legend"}),d.domListeners=i)}afterSetIconClsChecked(e,l){void 0!==l&&this.updateLegend()}afterSetIconClsUnchecked(e,l){void 0!==l&&this.updateLegend()}afterSetTitle(e,l){this.updateLegend()}onConstructed(){super.onConstructed(),this.collapsed&&this.afterSetCollapsed(!0,!1)}onLegendClick(e){let l=this;l.collapsible&&(l.collapsed=!l.collapsed)}updateLegend(){let e=this,s=e.collapsed?e.iconClsUnchecked:e.iconClsChecked,d=e.title,t=e.vdom;""===s&&""===d?e.legend&&(e.legend.vdom.reomveDom=!0):e.legend?(e.legend.setSilent({iconCls:s,text:d}),delete e.legend.vdom.reomveDom):e.legend=e.insert(0,{module:l,iconCls:s,text:d,...e.legendConfig}),e.vdom=t}}Neo.applyClassConfig(d);export{d as default};