import e from"./Base.mjs";import t from"../draggable/DragZone.mjs";import r from"../util/Array.mjs";class i extends e{static getStaticConfig(){return{directions:["horizontal","vertical"],resizeTargets:["next","previous"]}}static getConfig(){return{className:"Neo.component.Splitter",ntype:"splitter",cls:["neo-splitter","neo-draggable"],direction_:"vertical",dragZone:null,dragZoneConfig:null,resizeTarget_:"next",size_:10}}constructor(e){super(e);let t=this,r=t.domListeners;r.push({"drag:end":t.onDragEnd,scope:t},{"drag:start":t.onDragStart,scope:t}),t.domListeners=r}afterSetDirection(e,t){let i=this,o=i.cls;r.add(o,`neo-${e}`),t&&r.remove(o,`neo-${t}`),i.set({cls:o,height:"vertical"===e?null:i.size,width:"vertical"!==e?null:i.size})}afterSetSize(e,t){this["vertical"===this.direction?"width":"height"]=e}beforeSetDirection(e,t){return this.beforeSetEnumValue(e,t,"direction")}beforeSetResizeTarget(e,t){return this.beforeSetEnumValue(e,t,"resizeTarget")}onDragEnd(e){let t,r,i,o,n=this,a=n.style||{},s="next"===n.resizeTarget,l=n.size;Neo.getComponent(n.parentId).disabled=!1,n.dragZone.dragEnd(e),a.opacity=1,n.style=a,Neo.main.DomAccess.getBoundingClientRect({id:n.parentId}).then((d=>{o=Neo.getComponent(n.parentId),t=o.indexOf(n),i=o.items[s?t+1:t-1],a=i.style||{},a.flex="none","vertical"===n.direction?(r=e.clientX-e.offsetX-l,s?r=d.width-r:r-=l,r=Math.min(Math.max(r,0),d.width-l),a.width=`${r}px`):(r=e.clientY-e.offsetY-l,s?r=d.height-r:r-=l,r=Math.min(Math.max(r,0),d.height-l),a.height=`${r}px`),i.style=a}))}onDragStart(e){let r=this,i=r.style||{},o="vertical"===r.direction;Neo.getComponent(r.parentId).disabled=!0,r.dragZone?r.dragZone.set({bodyCursorStyle:o?"ew-resize !important":"ns-resize !important",moveHorizontal:o,moveVertical:!o}):r.dragZone=Neo.create({module:t,appName:r.appName,bodyCursorStyle:o?"ew-resize !important":"ns-resize !important",boundaryContainerId:r.parentId,dragElement:r.vdom,moveHorizontal:o,moveVertical:!o,owner:r,useProxyWrapper:!1,...r.dragZoneConfig}),r.dragZone.dragStart(e),i.opacity=.5,r.style=i}}Neo.applyClassConfig(i);export{i as default};