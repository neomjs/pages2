import e from"./CellModel.mjs";import l from"../../util/Array.mjs";import o from"./RowModel.mjs";import s from"../../util/VDom.mjs";class t extends e{static getConfig(){return{className:"Neo.selection.table.CellRowModel",ntype:"selection-table-cellrowmodel",cls:"neo-selection-cellrowmodel",selectedRowIds:null}}constructor(e){super(e),this.selectedRowIds=[]}deselectAllRows(e){let l=this,o=[...l.selectedRowIds],s=l.view,t=s.vdom;o.forEach((e=>{l.deselectRow(e,!0)})),e||(s.vdom=t)}deselectRow(e,o){let s,t=this,d=t.view,c=d.vdom,i=d.getVdomChild(e);i&&(s=i.cls||[],l.remove(s,t.selectedCls),i.cls=s),l.remove(t.selectedRowIds,e),o||(d.vdom=c)}onCellClick(e){let l=this,s=o.getRowNode(e.path),t=s?.id;t&&(l.deselectAllRows(!0),l.selectRow(t)),super.onCellClick(e)}onNavKeyRow(e,l){super.onNavKeyRow(e,l);let t,d=this,c=o.getRowNode(e.path),i=d.view,r=i.store,m=s.findVdomChild(i.vdom,c.id),w=(m.index+l)%r.getCount(),n=m.parentNode;for(;w<0;)w+=r.getCount();t=n.cn[w].id,t&&(d.deselectAllRows(!0),d.selectRow(t))}selectRow(e,o){let s,t=this,d=t.view,c=d.vdom,i=e&&d.getVdomChild(e);i&&(s=i.cls||[],l.add(s,t.selectedCls),i.cls=s,t.selectedRowIds.push(e)),o||(d.vdom=c)}unregister(){this.deselectAllRows(),super.unregister()}}Neo.applyClassConfig(t);export{t as default};