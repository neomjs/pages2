import e from"../Model.mjs";class o extends e{static getConfig(){return{className:"Neo.selection.table.CellModel",ntype:"selection-table-cellmodel",cls:"neo-selection-cellmodel"}}addDomListener(){let e=this,o=e.view,n=o.domListeners;n.push({click:e.onCellClick,delegate:".neo-table-cell",scope:e}),o.domListeners=n}onCellClick(e){let o=this,n=null,t=e.path,s=0,i=t.length;for(;s<i;s++)if("td"===t[s].tagName){n=t[s].id;break}n&&o.toggleSelection(n)}onKeyDownDown(e){this.onNavKeyRow(e,1)}onKeyDownLeft(e){this.onNavKeyColumn(e,-1)}onKeyDownRight(e){this.onNavKeyColumn(e,1)}onKeyDownUp(e){this.onNavKeyRow(e,-1)}onNavKeyColumn(e,o){let n,t=this.view,s=e.path[0].id.split("__"),i=s[2],l=t.columns.map((e=>e.dataField)),y=(l.indexOf(i)+o)%l.length;for(;y<0;)y+=l.length;s[2]=l[y],n=s.join("__"),this.select(n),t.focus(n)}onNavKeyRow(e,o){let n,t=this.view,s=t.store,i=e.path[0].id.split("__"),l=i[1],y=(s.indexOf(l)+o)%s.getCount();for(;y<0;)y+=s.getCount();i[1]=s.getKeyAt(y),n=i.join("__"),this.select(n),t.focus(n)}register(e){super.register(e);let o=this.id,n=this.view;n.keys&&n.keys._keys.push({fn:"onKeyDownDown",key:"Down",scope:o},{fn:"onKeyDownLeft",key:"Left",scope:o},{fn:"onKeyDownRight",key:"Right",scope:o},{fn:"onKeyDownUp",key:"Up",scope:o})}unregister(){let e=this.id,o=this.view;o.keys&&o.keys.removeKeys([{fn:"onKeyDownDown",key:"Down",scope:e},{fn:"onKeyDownLeft",key:"Left",scope:e},{fn:"onKeyDownRight",key:"Right",scope:e},{fn:"onKeyDownUp",key:"Up",scope:e}]),super.unregister()}}Neo.applyClassConfig(o);export{o as default};