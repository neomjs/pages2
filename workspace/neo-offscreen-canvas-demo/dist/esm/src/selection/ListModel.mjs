import e from"./Model.mjs";class t extends e{static getConfig(){return{className:"Neo.selection.ListModel",ntype:"selection-listmodel",stayInList:!0}}onKeyDownDown(e){!this.view.disableSelection&&this.onNavKey(e,1)}onKeyDownEnter(e){let t=this.view;!t.disableSelection&&t.onKeyDownEnter?.(this.getSelection()[0])}onKeyDownLeft(e){this.onKeyDownUp(e)}onKeyDownRight(e){this.onKeyDownDown(e)}onKeyDownUp(e){!this.view.disableSelection&&this.onNavKey(e,-1)}onNavKey(e,t){let o,n,s,i,y,l,r=this,w=r.view,c=w.store,f=c.getCount(),p=!1;for(i of e.path)if(i.cls.includes(w.itemCls)){n=i.id;break}n=n||r.items?.[0],n?(l=w.getItemRecordId(n),o=c.indexOf(l)+t,o<0?r.stayInList?o=f-1:(p=!0,r.deselectAll(),w.fire("selectPreFirstItem")):o>=f&&(r.stayInList?o=0:(p=!0,r.deselectAll(),w.fire("selectPostLastItem")))):o=0,p||(y=c.getAt(o),s=w.getItemId(y[r.view.getKeyProperty()]),r.select(s),w.focus(s),w.fire("itemNavigate",y))}register(e){super.register(e);let t=this.id,o=this.view;o.keys&&o.keys._keys.push({fn:"onKeyDownDown",key:"Down",scope:t},{fn:"onKeyDownEnter",key:"Enter",scope:t},{fn:"onKeyDownLeft",key:"Left",scope:t},{fn:"onKeyDownRight",key:"Right",scope:t},{fn:"onKeyDownUp",key:"Up",scope:t})}selectAt(e){let t=this.view,o=t.store.getKeyAt(e),n=o&&t.getItemId(o);n&&(this.select(n),t.focus(n))}unregister(){let e=this.id,t=this.view;t.keys&&t.keys.removeKeys([{fn:"onKeyDownDown",key:"Down",scope:e},{fn:"onKeyDownEnter",key:"Enter",scope:e},{fn:"onKeyDownLeft",key:"Left",scope:e},{fn:"onKeyDownRight",key:"Right",scope:e},{fn:"onKeyDownUp",key:"Up",scope:e}]),super.unregister()}}Neo.applyClassConfig(t);export{t as default};