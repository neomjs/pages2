import e from"../../container/Base.mjs";import t from"../../tab/Container.mjs";class n extends e{static getConfig(){return{className:"Neo.calendar.view.SettingsContainer",cls:["neo-calendar-settingscontainer","neo-container"],collapsed:!1,layout:{ntype:"vbox",align:"stretch"},removeInactiveCards:!0}}constructor(e){super(e);let t=this;t.collapsed&&(t.vdom.removeDom=!0)}collapse(e){let t,n=this,o=n.style||{};o.marginRight=`-${e}px`,n._style=o,n._vdom.style=o,Neo.getComponent(n.parentId).promiseVdomUpdate().then((()=>{setTimeout((()=>{n.collapsed=!0,t=n.vdom,t.removeDom=!0,n.vdom=t,n.mounted=!1}),400)}))}createItems(){let e=this;e.items=[{ntype:"component",cls:["neo-header"],height:48,html:'<i class="fa fa-cog"></i>Settings'},{module:t,removeInactiveCards:e.removeInactiveCards,items:[{module:()=>import("./settings/GeneralContainer.mjs"),flag:"general",style:{padding:"20px"},tabButtonConfig:{text:"General"}},{ntype:"component",flag:"day",html:"Day",style:{padding:"20px"},tabButtonConfig:{text:"Day"}},{module:()=>import("./settings/WeekContainer.mjs"),flag:"week",style:{padding:"20px"},tabButtonConfig:{text:"Week"}},{module:()=>import("./settings/MonthContainer.mjs"),flag:"month",style:{padding:"20px"},tabButtonConfig:{text:"Month"}},{module:()=>import("./settings/YearContainer.mjs"),flag:"year",style:{padding:"20px"},tabButtonConfig:{text:"Year"}}],listeners:{activeIndexChange:e.onCardIndexChange,scope:e}}],super.createItems()}expand(){let e,t=this;delete t.vdom.removeDom,Neo.getComponent(t.parentId).promiseVdomUpdate().then((()=>{t.collapsed=!1,t.mounted=!0,setTimeout((()=>{e=t.style||{},e.marginRight="0px",t.style=e}),50)}))}getMainContainer(){return this.up("calendar-maincontainer")}onCardIndexChange(e){let t,n=e.item,o=this.getMainContainer();o&&(Neo.isFunction(n.createContent)&&n.items.length<1&&("NeoInstance"!==Neo.typeOf(o[`${n.flag}Component`])?t=o.on("cardLoaded",(()=>{o.un("cardLoaded",t),setTimeout((()=>{n.createContent()}),30)})):setTimeout((()=>{n.createContent()}),30)),"general"!==n.flag&&(o.activeView=n.flag))}}Neo.applyClassConfig(n);export{n as default};