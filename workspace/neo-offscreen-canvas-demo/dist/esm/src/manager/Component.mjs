import t from"./Base.mjs";import e from"../util/VNode.mjs";class n extends t{static getConfig(){return{className:"Neo.manager.Component",singleton:!0}}constructor(t){super(t),Neo.getComponent=this.getById.bind(this)}down(t,e,n=!0){Neo.isString(t)&&(t=this.getById(t));let r,s,i,l,o=this,h=[],d=null,u=0,g=[];if(Neo.isString(e)?e={ntype:e}:e||(e={}),s=Object.entries(e),i=s.length,s.forEach((([e,n])=>{t[e]===n&&h.push(!0)})),h.length===i){if(n)return t;g.push(t)}for(r=o.find({parentId:t.id}),l=r.length;u<l;u++)if(d=o.down(r[u],e,n),n){if(null!==d)return d}else d.length>0&&g.push(...d);return n?null:g}findParentComponent(t){let e,n=this,r=0,s=t?.length||0;for(;r<s;r++)if(e=t[r],e&&n.has(e))return e;return null}getChildIds(t,n){return e.getChildIds(t,n)}getChildren(t){let n,r=[];return e.getChildIds(t.vnode).forEach((t=>{n=this.get(t),n&&r.push(n)})),r}getParentIds(t){let e=[];for(;t?.parentId;)(t=this.getById(t.parentId))&&e.push(t.id);return e}getParentPath(t){let e=this,n=[],r=0,s=t?.length||0;for(;r<s;r++)e.has(t[r])&&n.push(t[r]);return n}getParents(t){let e=[];for(;t?.parentId;)(t=this.getById(t.parentId))&&e.push(t);return e}up(t,e,n=!0){let r,s,i,l=this.getById(t),o=[];for(Neo.isString(e)?e={ntype:e}:e||(e={}),r=Object.entries(e),s=r.length;l?.parentId;){if(l=this.getById(l.parentId),!l)return n?null:o;if(i=[],r.forEach((([t,e])=>{l[t]===e&&i.push(!0)})),i.length===s){if(n)return l;o.push(l)}}}}Neo.applyClassConfig(n);let r=Neo.create(n);Neo.applyToGlobalNs(r);export default r;